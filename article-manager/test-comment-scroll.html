<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>è¯„è®ºæ»šåŠ¨åŠŸèƒ½æµ‹è¯•</title>
    <style>
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            margin: 0;
            padding: 20px;
            background: #f5f5f5;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            background: white;
            border-radius: 12px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }
        
        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px;
            text-align: center;
        }
        
        .content {
            display: flex;
            height: calc(100vh - 160px);
        }
        
        .left-panel {
            width: 300px;
            background: #f8fafc;
            border-right: 1px solid #e2e8f0;
            padding: 20px;
        }
        
        .main-panel {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .article-content {
            flex: 1;
            padding: 20px;
            background: white;
            border-bottom: 1px solid #e2e8f0;
            overflow-y: auto;
        }
        
        .comments-section {
            height: 400px;
            background: #fafafa;
            border-top: 1px solid #e2e8f0;
        }
        
        /* æ¨¡æ‹Ÿè¯„è®ºæ ·å¼ */
        .comments-container {
            height: 100%;
            padding: 20px;
        }
        
        .comments-list {
            max-height: 300px;
            overflow-y: auto;
            overflow-x: hidden;
            padding: 0.5rem;
            border-radius: 0.5rem;
            background: #fafafa;
            border: 1px solid #e5e7eb;
            position: relative;
        }
        
        .comments-list::-webkit-scrollbar {
            width: 8px;
        }
        
        .comments-list::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 4px;
            margin: 4px 0;
        }
        
        .comments-list::-webkit-scrollbar-thumb {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            border-radius: 4px;
            border: 1px solid #f1f5f9;
        }
        
        .comments-list::-webkit-scrollbar-thumb:hover {
            background: linear-gradient(135deg, #5a6fd8 0%, #6a4190 100%);
        }
        
        .comment-item {
            margin-bottom: 15px;
            padding: 15px;
            background: white;
            border-radius: 8px;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }
        
        .comment-header {
            display: flex;
            align-items: center;
            gap: 10px;
            margin-bottom: 8px;
        }
        
        .comment-avatar {
            width: 32px;
            height: 32px;
            border-radius: 50%;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            font-weight: bold;
        }
        
        .comment-author {
            font-weight: 600;
            color: #1f2937;
        }
        
        .comment-time {
            font-size: 12px;
            color: #6b7280;
        }
        
        .comment-content {
            line-height: 1.5;
            color: #374151;
        }
        
        .test-buttons {
            padding: 20px;
            background: #f8fafc;
            border-top: 1px solid #e2e8f0;
            display: flex;
            gap: 10px;
            flex-wrap: wrap;
        }
        
        button {
            padding: 8px 16px;
            border: none;
            border-radius: 6px;
            cursor: pointer;
            font-size: 14px;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .btn-primary {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        
        .btn-primary:hover {
            transform: translateY(-1px);
            box-shadow: 0 4px 12px rgba(102, 126, 234, 0.4);
        }
        
        .btn-secondary {
            background: #f1f5f9;
            color: #374151;
            border: 1px solid #e2e8f0;
        }
        
        .btn-secondary:hover {
            background: #e2e8f0;
        }
        
        .status {
            padding: 10px;
            margin: 10px 0;
            border-radius: 6px;
            font-size: 14px;
        }
        
        .status.success {
            background: #dcfce7;
            color: #166534;
            border: 1px solid #bbf7d0;
        }
        
        .status.warning {
            background: #fef3c7;
            color: #92400e;
            border: 1px solid #fed7aa;
        }
        
        .status.info {
            background: #dbeafe;
            color: #1e40af;
            border: 1px solid #bfdbfe;
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ“ è¯„è®ºæ»šåŠ¨åŠŸèƒ½æµ‹è¯•</h1>
            <p>æµ‹è¯•è¯„è®ºåŒºåŸŸçš„æ»šåŠ¨åŠŸèƒ½å’Œå¸ƒå±€ä¼˜åŒ–</p>
        </div>
        
        <div class="content">
            <div class="left-panel">
                <h3>ğŸ”§ æµ‹è¯•æ§åˆ¶</h3>
                
                <div class="status info">
                    <strong>æµ‹è¯•è¯´æ˜ï¼š</strong><br>
                    è¿™ä¸ªé¡µé¢æ¨¡æ‹Ÿäº†æ–‡ç« ç®¡ç†å™¨ä¸­çš„è¯„è®ºåŒºåŸŸï¼Œç”¨äºæµ‹è¯•æ»šåŠ¨åŠŸèƒ½æ˜¯å¦æ­£å¸¸å·¥ä½œã€‚
                </div>
                
                <button class="btn-primary" onclick="generateComments()">ç”Ÿæˆæµ‹è¯•è¯„è®º</button>
                <button class="btn-secondary" onclick="clearComments()">æ¸…ç©ºè¯„è®º</button>
                <button class="btn-secondary" onclick="testScroll()">æµ‹è¯•æ»šåŠ¨</button>
                <button class="btn-secondary" onclick="analyzeLayout()">åˆ†æå¸ƒå±€</button>
                
                <div id="status-info"></div>
            </div>
            
            <div class="main-panel">
                <div class="article-content">
                    <h2>ç¤ºä¾‹æ–‡ç« æ ‡é¢˜</h2>
                    <p>è¿™æ˜¯ä¸€ç¯‡ç¤ºä¾‹æ–‡ç« çš„å†…å®¹ã€‚åœ¨çœŸå®çš„åº”ç”¨ä¸­ï¼Œè¿™é‡Œä¼šæ˜¾ç¤ºæ–‡ç« çš„å®Œæ•´å†…å®¹ã€‚</p>
                    <p>æ–‡ç« å†…å®¹åŒºåŸŸåº”è¯¥å æ®è¶³å¤Ÿçš„ç©ºé—´ï¼Œè®©ç”¨æˆ·å¯ä»¥èˆ’é€‚åœ°é˜…è¯»ã€‚</p>
                    <p>Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.</p>
                    <p>Duis aute irure dolor in reprehenderit in voluptate velit esse cillum dolore eu fugiat nulla pariatur. Excepteur sint occaecat cupidatat non proident, sunt in culpa qui officia deserunt mollit anim id est laborum.</p>
                    <p>Sed ut perspiciatis unde omnis iste natus error sit voluptatem accusantium doloremque laudantium, totam rem aperiam, eaque ipsa quae ab illo inventore veritatis et quasi architecto beatae vitae dicta sunt explicabo.</p>
                </div>
                
                <div class="comments-section">
                    <div class="comments-container">
                        <h3>ğŸ’¬ è¯„è®ºåŒºåŸŸ</h3>
                        <div class="comments-list" id="commentsList">
                            <div class="status info">
                                ç‚¹å‡»"ç”Ÿæˆæµ‹è¯•è¯„è®º"æŒ‰é’®æ¥æµ‹è¯•æ»šåŠ¨åŠŸèƒ½
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="test-buttons">
            <button class="btn-secondary" onclick="simulateVueApp()">æ¨¡æ‹ŸVueåº”ç”¨</button>
            <button class="btn-secondary" onclick="checkStyles()">æ£€æŸ¥æ ·å¼</button>
            <button class="btn-secondary" onclick="measurePerformance()">æ€§èƒ½æµ‹è¯•</button>
        </div>
    </div>

    <script>
        let commentCount = 0;

        function generateComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '';
            commentCount = 0;
            
            // ç”Ÿæˆ20æ¡æµ‹è¯•è¯„è®º
            for (let i = 1; i <= 20; i++) {
                const commentItem = document.createElement('div');
                commentItem.className = 'comment-item';
                commentItem.innerHTML = `
                    <div class="comment-header">
                        <div class="comment-avatar">${i}</div>
                        <span class="comment-author">æµ‹è¯•ç”¨æˆ·${i}</span>
                        <span class="comment-time">${i}å°æ—¶å‰</span>
                    </div>
                    <div class="comment-content">
                        è¿™æ˜¯ç¬¬ ${i} æ¡æµ‹è¯•è¯„è®ºã€‚Lorem ipsum dolor sit amet, consectetur adipiscing elit, sed do eiusmod tempor incididunt ut labore et dolore magna aliqua. Ut enim ad minim veniam, quis nostrud exercitation ullamco laboris nisi ut aliquip ex ea commodo consequat.
                    </div>
                `;
                commentsList.appendChild(commentItem);
                commentCount++;
            }
            
            updateStatus(`âœ… å·²ç”Ÿæˆ ${commentCount} æ¡è¯„è®º`, 'success');
            
            // æ£€æŸ¥æ»šåŠ¨çŠ¶æ€
            setTimeout(() => {
                analyzeLayout();
            }, 100);
        }

        function clearComments() {
            const commentsList = document.getElementById('commentsList');
            commentsList.innerHTML = '<div class="status info">è¯„è®ºå·²æ¸…ç©º</div>';
            commentCount = 0;
            updateStatus('ğŸ—‘ï¸ è¯„è®ºå·²æ¸…ç©º', 'info');
        }

        function testScroll() {
            const commentsList = document.getElementById('commentsList');
            
            if (commentCount === 0) {
                updateStatus('âš ï¸ è¯·å…ˆç”Ÿæˆè¯„è®ºå†æµ‹è¯•æ»šåŠ¨', 'warning');
                return;
            }
            
            // æ»šåŠ¨æµ‹è¯•
            commentsList.scrollTop = 0;
            updateStatus('ğŸ”„ å¼€å§‹æ»šåŠ¨æµ‹è¯•...', 'info');
            
            setTimeout(() => {
                commentsList.scrollTop = commentsList.scrollHeight / 2;
                updateStatus('ğŸ“ æ»šåŠ¨åˆ°ä¸­é—´ä½ç½®', 'info');
                
                setTimeout(() => {
                    commentsList.scrollTop = commentsList.scrollHeight;
                    updateStatus('ğŸ“ æ»šåŠ¨åˆ°åº•éƒ¨', 'info');
                    
                    setTimeout(() => {
                        commentsList.scrollTop = 0;
                        updateStatus('âœ… æ»šåŠ¨æµ‹è¯•å®Œæˆ', 'success');
                    }, 1000);
                }, 1000);
            }, 1000);
        }

        function analyzeLayout() {
            const commentsList = document.getElementById('commentsList');
            const computedStyle = getComputedStyle(commentsList);
            
            const info = {
                scrollHeight: commentsList.scrollHeight,
                clientHeight: commentsList.clientHeight,
                offsetHeight: commentsList.offsetHeight,
                maxHeight: computedStyle.maxHeight,
                overflowY: computedStyle.overflowY,
                canScroll: commentsList.scrollHeight > commentsList.clientHeight
            };
            
            console.log('ğŸ“ å¸ƒå±€åˆ†æç»“æœ:', info);
            
            let statusText = `ğŸ“Š å¸ƒå±€åˆ†æç»“æœ:<br>`;
            statusText += `æ»šåŠ¨é«˜åº¦: ${info.scrollHeight}px<br>`;
            statusText += `å¯è§†é«˜åº¦: ${info.clientHeight}px<br>`;
            statusText += `æœ€å¤§é«˜åº¦: ${info.maxHeight}<br>`;
            statusText += `æº¢å‡ºè®¾ç½®: ${info.overflowY}<br>`;
            statusText += `å¯ä»¥æ»šåŠ¨: ${info.canScroll ? 'âœ… æ˜¯' : 'âŒ å¦'}`;
            
            updateStatus(statusText, info.canScroll ? 'success' : 'warning');
        }

        function checkStyles() {
            const commentsList = document.getElementById('commentsList');
            const styles = getComputedStyle(commentsList);
            
            const relevantStyles = {
                maxHeight: styles.maxHeight,
                overflowY: styles.overflowY,
                overflowX: styles.overflowX,
                height: styles.height,
                boxSizing: styles.boxSizing,
                padding: styles.padding,
                border: styles.border,
                position: styles.position
            };
            
            console.log('ğŸ¨ ç›¸å…³æ ·å¼:', relevantStyles);
            updateStatus('ğŸ¨ æ ·å¼ä¿¡æ¯å·²è¾“å‡ºåˆ°æ§åˆ¶å°ï¼Œè¯·æŒ‰F12æŸ¥çœ‹', 'info');
        }

        function simulateVueApp() {
            updateStatus('ğŸ”„ æ¨¡æ‹ŸVueåº”ç”¨ç¯å¢ƒ...', 'info');
            
            // æ¨¡æ‹ŸVueç»„ä»¶çš„æ›´æ–°è¿‡ç¨‹
            generateComments();
            
            setTimeout(() => {
                updateStatus('âœ… Vueåº”ç”¨ç¯å¢ƒæ¨¡æ‹Ÿå®Œæˆ', 'success');
            }, 1000);
        }

        function measurePerformance() {
            const start = performance.now();
            
            // æ¸…ç©ºå¹¶é‡æ–°ç”Ÿæˆ
            clearComments();
            generateComments();
            
            // æ‰§è¡Œæ»šåŠ¨æµ‹è¯•
            testScroll();
            
            const end = performance.now();
            const duration = end - start;
            
            updateStatus(`âš¡ æ€§èƒ½æµ‹è¯•å®Œæˆï¼Œè€—æ—¶: ${duration.toFixed(2)}ms`, 'success');
        }

        function updateStatus(message, type = 'info') {
            const statusInfo = document.getElementById('status-info');
            statusInfo.innerHTML = `<div class="status ${type}">${message}</div>`;
        }

        // é¡µé¢åŠ è½½æ—¶çš„åˆå§‹åŒ–
        window.addEventListener('load', () => {
            updateStatus('ğŸš€ é¡µé¢åŠ è½½å®Œæˆï¼Œå¯ä»¥å¼€å§‹æµ‹è¯•', 'success');
            console.log('ğŸ“ è¯„è®ºæ»šåŠ¨æµ‹è¯•é¡µé¢å·²åŠ è½½');
            console.log('ğŸ’¡ ä½¿ç”¨ä»¥ä¸‹åŠŸèƒ½è¿›è¡Œæµ‹è¯•:');
            console.log('  - ç”Ÿæˆæµ‹è¯•è¯„è®º');
            console.log('  - æµ‹è¯•æ»šåŠ¨åŠŸèƒ½');
            console.log('  - åˆ†æå¸ƒå±€ä¿¡æ¯');
            console.log('  - æ£€æŸ¥CSSæ ·å¼');
        });
    </script>
</body>
</html>
